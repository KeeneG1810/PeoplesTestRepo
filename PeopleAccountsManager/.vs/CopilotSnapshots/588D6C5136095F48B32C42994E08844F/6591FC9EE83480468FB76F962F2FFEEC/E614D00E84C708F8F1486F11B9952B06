<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - People Accounts Manager</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/PeopleAccountsManager.styles.css" asp-append-version="true" />
    <style id="app-theme">
        :root { --bg-void:#0b0f17; --bg-panel:rgba(18,24,38,.75); --bg-panel-strong:rgba(18,24,38,.92); --primary:#6ee7ff; --accent:#9b5cff; --text:#e6edf3; --muted:#a0aec0; --border:#1f2a44; --shadow:0 10px 30px rgba(0,0,0,.45),0 2px 6px rgba(0,0,0,.35); }
        html { font-size:15px; }
        @media (min-width:768px){ html{ font-size:16px } }
        body { min-height:100vh; background:radial-gradient(1200px 600px at 10% -10%, rgba(110,231,255,.06), transparent), radial-gradient(800px 400px at 110% 10%, rgba(155,92,255,.06), transparent), var(--bg-void); color:var(--text); font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; letter-spacing:.2px }
        .bg-dark-void{ background-color:var(--bg-void)!important }
        .glassy-nav{ background:linear-gradient(180deg,rgba(15,18,28,.9),rgba(15,18,28,.7)); backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px); border-color:transparent!important; box-shadow:var(--shadow) }
        .navbar .nav-link{ color:var(--text)!important; opacity:.85 } .navbar .nav-link:hover{ opacity:1; color:var(--primary)!important }
        .neon-title{ font-family:'Orbitron',sans-serif; letter-spacing:.5px }
        .card,.modal-content,.offcanvas,.alert{ background:var(--bg-panel); border:1px solid var(--border); box-shadow:var(--shadow); color:var(--text) }
        .card.bg-light{ background:var(--bg-panel-strong)!important }
        .btn-primary{ background:linear-gradient(90deg,var(--accent),var(--primary)); border:none; color:#0a0f1e } .btn-primary:hover{ filter:brightness(1.05); transform:translateY(-1px) }
        .btn-outline-light{ border-color:var(--muted); color:var(--text) }
        .glow-btn{ box-shadow:0 0 .5rem rgba(110,231,255,.35), inset 0 0 .5rem rgba(155,92,255,.25) }
        .form-control,.form-select{ background-color:rgba(255,255,255,.03); border:1px solid var(--border); color:var(--text) }
        .form-control:focus,.form-select:focus{ border-color:var(--primary); box-shadow:0 0 0 .2rem rgba(110,231,255,.15) }
        .form-label{ color:var(--muted) }
        .table{ color:var(--text) } .table thead th{ color:var(--muted); border-bottom-color:var(--border) } .table-striped>tbody>tr:nth-of-type(odd)>*{ --bs-table-accent-bg:rgba(255,255,255,.02); color:var(--text) } .table td,.table th{ border-color:var(--border) }
        .alert-success{ background:rgba(34,197,94,.1); border-color:rgba(34,197,94,.35); color:var(--text) } .alert-danger{ background:rgba(239,68,68,.1); border-color:rgba(239,68,68,.35); color:var(--text) }
        .footer{ background:transparent; border-top:1px solid var(--border)!important }
        .link-faint{ color:var(--muted); text-decoration:none } .link-faint:hover{ color:var(--primary) }
        .page-content{ animation:fadeSlideIn .4s ease-out }
        @keyframes fadeSlideIn{ from{ opacity:0; transform:translateY(8px) } to{ opacity:1; transform:translateY(0) } }
        .reveal-on-scroll{ opacity:0; transform:translateY(10px); transition:all .6s cubic-bezier(.2,.8,.2,1) } .reveal-on-scroll.is-visible{ opacity:1; transform:translateY(0) }
        h1,h2,h3,h4,h5{ color:var(--text) } .display-4{ font-family:'Orbitron',sans-serif; letter-spacing:1px }
        .btn:focus,.btn:active:focus,.btn-link.nav-link:focus,.form-control:focus,.form-check-input:focus{ box-shadow:0 0 0 .2rem rgba(110,231,255,.15) }
    </style>
</head>
<body class="bg-dark-void text-body">
    <header>
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-dark glassy-nav border-bottom mb-3">
            <div class="container-xxl">
                <a class="navbar-brand d-flex align-items-center gap-2 neon-title" asp-area="" asp-controller="Home" asp-action="Index">
                    <i class="bi bi-people-fill"></i><span>People Accounts Manager</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                        </li>
                        @if (User.Identity?.IsAuthenticated == true)
                        {
                            <li class="nav-item">
                                <a class="nav-link" asp-area="" asp-controller="Persons" asp-action="Index">Persons</a>
                            </li>
                        }
                        <li class="nav-item">
                            <a class="nav-link" asp-area="" asp-controller="Home" asp-action="About">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Contact">Contact</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav">
                        @if (User.Identity?.IsAuthenticated == true)
                        {
                            <li class="nav-item">
                                <span class="navbar-text me-3 opacity-75">
                                    <i class="bi bi-person-circle me-1"></i>Welcome, @User.Identity.Name
                                </span>
                            </li>
                            <li class="nav-item">
                                <form asp-controller="Account" asp-action="Logout" method="post" class="d-inline">
                                    <button type="submit" class="btn btn-primary btn-sm glow-btn"><i class="bi bi-box-arrow-right"></i> Logout</button>
                                </form>
                            </li>
                        }
                        else
                        {
                            <li class="nav-item">
                                <a class="btn btn-primary btn-sm glow-btn" asp-controller="Account" asp-action="Login"><i class="bi bi-box-arrow-in-right"></i> Login</a>
                            </li>
                        }
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <div class="container-xxl page-content">
        <main role="main" class="pb-3">
            @* Display success and error messages *@
            @if (TempData["SuccessMessage"] != null)
            {
                <div class="alert alert-success alert-dismissible fade show shadow-soft reveal-on-scroll" role="alert">
                    <i class="bi bi-check-circle-fill me-1"></i>
                    <strong>Success!</strong> @TempData["SuccessMessage"]
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            }
            @if (TempData["ErrorMessage"] != null)
            {
                <div class="alert alert-danger alert-dismissible fade show shadow-soft reveal-on-scroll" role="alert">
                    <i class="bi bi-exclamation-triangle-fill me-1"></i>
                    <strong>Error!</strong> @TempData["ErrorMessage"]
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            }
            @RenderBody()
        </main>
    </div>

    <footer class="border-top footer mt-5 py-3 small text-muted">
        <div class="container-xxl text-center">
            <span class="opacity-75">&copy; 2025 - People Accounts Manager - </span>
            <a asp-area="" asp-controller="Home" asp-action="Privacy" class="link-faint">Privacy</a>
        </div>
    </footer>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
